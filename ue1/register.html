<?xml version="1.0" encoding="utf-8" ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Formel 0 - Registrieren</title>
    <script type="text/javascript" src="js/jquery.js" ></script>
    <link href="styles/screen.css" rel="stylesheet" />
  </head>
  <body>
    <div class="site">
      <div class="title">
        <div class="headerimg">
          <img src="img/header_left.png" alt="titel links" class="lheader"></img>
          <img src="img/header_right.png" alt="titel rechts" class="rheader"></img>
        </div>
        <div class="menu">
          <a class="menuitem" href="table.html">Einloggen</a>
        </div>
      </div>
      <div class="content">
        <h1>Registrieren</h1>
        <p>
        Bitte f&uuml;llen Sie das unten stehende Formular aus!
        </p>
        <form method="post" action="register.php">
            <fieldset>
              <legend>Pers&ouml;nliche Daten</legend>
              <ol>
                <li>
                  <label for="vname">Vorname</label>
                  <input type="text" name="vname" id="vname" title="Vorname" />
                </li>
                <li>
                  <label for="nname">Nachname</label>
                  <input type="text" name="nname" id="nname" title="Nachname" />
                </li>
                <li>
                  <label for="gbtag">Geburtsdatum</label>
                  <input type="text" name="gbtag" id="gbtag" title="Geburtsdatum" />
                </li>
                <li>
                  <label for="geschlecht">Geschlecht</label>
                  <select name="geschlecht" id="geschlecht" title="Geschlecht">
                    <option>weiblich</option>
                    <option>m&auml;nnlich</option>
                  </select>
                  </li>
                </ol>
              </fieldset>
              <fieldset>
                <legend>Login Daten</legend>
                <ol>
                  <li>
                    <label for="user">Benutzername</label>
                    <input type="text" name="user" id="user" title="Benutzername" />
                  </li>
                  <li>
                    <label for="passwd">Passwort</label>
                    <input type="password" name="passwd" id="passwd" title="Passwort"/>
                  </li>
                </ol>
            </fieldset>
            <fieldset>
              <input type="submit" disabled="disabled" name="button" id="button" value="Registrieren" />
            </fieldset>
          </form>
          <noscript>
            Das Feld Geburtsdatum muss im Format dd.mm.yyyy sein. <br/>
            Die Felder Benutzername und Passwort m&uuml;ssen mindestens 4, h&ouml;chstens 8 Zeichen lang sein.
          </noscript>
      </div>
      <p class="footer">
        (C) 2013 Formel 0
      </p>
    </div>
    <script type="text/javascript">
      var dateRegex = /(\d{1,2}\.\d{1,2}\.\d{4})/gm; 
      var dateValid=1;
      var userValid=0;
      var passwordValid=0;

      function commonVerify() {
        if(dateValid == 0) {
          $('input#button').attr("disabled","disabled");
          return;
        }

        if(userValid == 0) {
          $('input#button').attr("disabled","disabled");
          return;
        }

        if(passwordValid == 0) {
          $('input#button').attr("disabled","disabled");
          return;
        }

        $('input#button').removeAttr("disabled");

      }

$(function() {
    $('input#gbtag').on('change keypress paste input textInput',function() {
      var value;

      value=$(this).val();
      if(value != "") {
        if(value.match(dateRegex) != null) {
            dateValid=1;  
        } else {
            dateValid=0;
        }
      } else {
        dateValid=1;
      }
      commonVerify();
    })

    $('input#user').on('change keypress paste input textInput',function() {
        var value;

        value=$(this).val();
        if(value.length >= 4 && value.length <= 8)
            userValid=1;
        else
        userValid=0;

        commonVerify();
    })

    $('input#passwd').on('change keypress paste input textInput',function() {
        var value;

        value=$(this).val();
        if(value.length >= 4 && value.length <= 8)
            passwordValid=1;
        else
        passwordValid=0;

        commonVerify();
    })
})

    </script>
  </body>
</html>
        
